# 网络硬件 

在这一节，我们将了解一些不同的网络硬件模块。他们中大多数已经安装与你家和你的电脑上了。

## 术语和模块

* **网络拓扑**: 描述一个网络的结构，包括设备和节点之间是怎么连接的，数据怎么从一部分网络流向另一部分。

* **Mbs**: 每秒多少M比特 (区别于“MBs”，每秒多少M字节)。
  
* **Gbs**: 每秒多少G比特，1Gbs = 1000 Mbs （区别于“GBs”，每秒多少G字节）。
  
* **带宽**: 以每秒多少比特来作为单位，某种类型的电缆在一定时间内可以传输多少数据，比如说，500 Mbs。

* **ISP**: 因特网服务提供商，你付钱，从而给你提供因特网连接的公司。（或者说是提供该服务的公司，即使你没有给他付钱！）

* **双绞线**: 通常人们认为的“以太网线缆”，他是一条两端都有插口的线缆。在其内部，成对的电线绞在一起以减少干扰。这些电缆规定了最大“运行”长度，这决定了在遇到瓶颈之前你可以将电缆串到多远的地方，通常是50-100米，具体取决于电缆和传输的速度。
  * **10baseT**: 10 Mbs 因特网双绞线
  * **100baseTX**: 100 Mbs 因特网双绞线，用于 _快速以太网_。
  * **1000baseT**: 1 Gbs 因特网双绞线，用于 _千兆以太网_。
  * **10GbaseT**: 10 Gbs 因特网双绞线，用于 _万兆以太网_。
  * **5类线**: 通常简称为 _cat-5_， 一种按照5类线规范建造的双绞线，非常适合于快速以太网。
  * **6类线**: 通常简称为 _cat-6_，一种按照6类线规范建造的双绞线，非常适合用于千兆网。

* **网口**: 不要与TCP或UDP端口号混淆，它们是完全不同的，在这里指的是设备上可以插入网线的物理插口。

* **以太网线缆**: 口语称呼，意思是插入以太网设备的双绞线。

* **交叉电缆**: 在电缆的一端交换发送和接收引脚的电缆。这通常用于将两个设备直接连接到彼此，而区别于大多数情况下使用交换机或集线器作为中介。如果你直接用电线将两台电脑直接连接起来，那么大概率是一根交叉电缆。和 _直连电缆_ 相反。

* **自动侦测**: 一种可以分辨是直连电缆还是交叉电缆的网口，并且在需要的时候翻传输和接收信号。

* **细电缆**: 已经被淘汰的以太网上曾经使用的同轴电缆。
  
* **LAN**: 局域网。对于以太网，这将是你家中的网络。可以把它看作一个单个IP子网。

* **WAN**: 广域网。不是局域网的网络。比如公司校园里的大学局域网的集合。

* **动态 IP**: 这是你当设置通过[DHCP](https://en.wikipedia.org/wiki/Dynamic_Host_Configuration_Protocol)自动获取IP地址，比如说，在这种情况下你的IP地址随着时间可能会改变。
  
* **静态 IP**: 这一般是当你对着一个特定的设备硬编码了IP地址，除非你输入了一个新的IP地址，不然该IP地址一直不会改变。

* **网络接口控制器（NIC）**，**网络接口卡**，**网路适配器**，**局域网适配器**，**网卡**:一堆使得计算机接入网络的硬件设备的不同名称。这些硬件卡要么上面有以太网网口，要么是纯无线的。甚至，在现在他可能都不是一个真正的[硬件卡](https://en.wikipedia.org/wiki/Expansion_card)--也许它和主板上内置的一堆其他I/O设备都是同一个芯片。

* **网络设备 (OS)**: 操作系统中的一种软件设备结构，通常映射到网卡。有一些网络设备，比如 _环回设备_ 实际上并不使用硬件上面的任何物理部件，并且只在操作系统内部“传输”数据。在类Unix系统中，这些设备被命名为 `eth0`, `en1`, `wlan2`等等。环回地址通常被称之为 `lo`。
  
* **MAC 地址**: 媒体访问控制地址,一个计算机的唯一的链接层地址。在以太网中，MAC地址有6字节，通常它们是以冒号隔开的十六进制的字节:  `12:34:56:78:9A:BC`。这些地址必须在局域网上是唯一的，这样才能在以太网中正常工作。

* **集线器**: 一种可以通过以太网电缆连接多台计算机的设备。一般该设备在其前面拥有4，8，或者更多的端口。所有这些插入这些端口的设备一旦连接，实际上都在同一条“电缆”上，也就是说，插入集线器的所有设备都可以看到该以太网上传输的**任何**数据包。你通常不会再看到这些设备，因为交换机将会可以更好地扮演相同的角色。

* **交换机**: 一个拥有大脑的集线器。它知道端口另一端的MAC地址，所以它不会向 _每个设备_ 重新传输以太网数据包。它只是把数据包通过正确的线路送到正确的目的地。这非常有利于避免网路过载。
  
* **路由器**: 一种有多个接口的网络层的设备，它可以选择正确的接口发送流量，使其到达最终目的地。路由器中含有路由表，这些路由表可以让路由器判断出如何将指定的数据包发给正确的IP地址。

* **默认网关**: 一种路由器，它处理到所有其他目的地的流量，如果到达目的地的路由是未知的。计算机的路由表会将其发送给默认网关。在家庭局域网中，这是一个ISP会提供给你的“路由地址”。想象一个小岛上有一个小镇。这座岛通过一座桥与大陆相连。如果有人想知道在城里去哪里，你在城里给他们指路。对于**其他目的地**，他们会先开车过桥。在这个类比中，这里的桥梁就是流量的默认网关。

* **广播**: 将流量发送给局域网中的所有人。这可以通过在链路层发送给MAC地址为`ff:ff:ff:ff:ff`以太网帧来实现，或者在网络层发送IP数据包给所有网络位置`1`的地址。比如，如果子网是`192.168.0.0/16`，那么广播地址将是`192.168.255.255`。同样你也可以发送给`255.255.255.255`来达到同样的目的。IP路由器并不会转发IP广播数据包，所以广播数据包总是会严格的被限制在局域网内。

* **Wi-Fi**: _无线保真度_（另一个非技术性的带有双关意思的营销商标是[Hi-Fi](https://en.wikipedia.org/wiki/High_fidelity)）的缩写，这是你的无线局域网连接。从链路层的角度来看。与使用以太网电缆非常相似，不同的是它使用无线电波而不是铜缆上的电。

* **防火墙**: 在LAN与ISP连接处或附近的计算机或设备，用于过滤流量，避免不需要的流量在LAN上传输，目的是希望能把坏人挡在外面。

* **NAT**: 网络地址转换。在NAT设备后面可以有一个私有IP子网，该子网对因特网的其他部分不可见。NAT设备将路由器内部的IP地址和端口转换为外部的IP地址。这就是为什么如果你去谷歌问“我的ip是什么”，你会得到一个不同的数字，而不是你在电脑上看到的数字。NAT位于内部LAN IP地址和外部公开可见的IP地址之间中间，对其进行转换。后面我们将详细讨论这种机制。

* **私有网络IPv4地址**: 对于没有连接到Internet的局域网或NAT后的局域网，有三个常用的子网:'`10.0.0.0/8`, `172.16.0.0/12`, `192.168.0.0/16`。这些是保留给个人使用,没有公共站点会使用它们，所以你可以把它们放在你的局域网中，而不用担心冲突。

* **WiFi调制解调器/WiFi路由器**: 指的是当你与ISP签约使用服务时，你得到的消费级设备和经常做各种各样的事情。

* **机架安装**: 如果一个设备没有一个漂亮的塑料外壳，或者不是为了直接插入电脑，它可能是机架安装。这些大型的非消费类设备，如路由器、交换机或磁盘组，被堆放在“机架”中。

* **上传**: 将一个文件从你的本地设备传输到一个远端设备。

* **下载**: 将一个文件从远端设备传输到你的本地设备。

* **对称网络**: 对于传输速度来说，意味着一个连接在两个方向上提供相同的速度。“1Gbs 对称网络”意味着上传和下载速度都是1Gbs。

* **非对称型网络**: 对于传输速度来说，意味着一个连接在两个方向上提供不同的速度。通常会用 "600 Mbs 下行, 20 Mbs 上行"来表示。比如，为了表示下载和上传速度，通常口头上称之为 "600 乘 20"。因为一般情况下是用户主要都是进行下载，很少上传，所以提供服务的公司在下载端分配了更多的总带宽。

* **线缆** (从线缆公司的角度):一些有线电视公司提供通过同轴电缆将你家里的设备接入互联网的操作，现时，就算速度高达1gb的网络也并非罕见。通常情况下，一组邻居共享带宽，所以你的网速会在晚上下降，因为你周围的人都在看电影。并且大多数公司提供的宽带都是都是非对称的。

* **DSL**: 数字用户线路。一些电话公司提供通过电话线将你家里的设备接入互联网的服务。它比电缆慢，大约100兆，但带宽不与邻居共享。大多数DSL产品也都是非对称的。

* **光纤**: _光导纤维_ 的简称，这种技术使用的是光通过玻璃“线”，而不是通过铜线的电力。这使得其非常快，许多提供相对便宜的光纤的isp都有提供1Gbs对称传输速度的能力。

* **Modem**: _调制解调器_ 的简称，其作用是将一种形式的信号转换为另一种形式的信号。历史上，它意味着将通过固定电话传输的声音转化为数据。在现代用法中，它意味着将以太网局域网上的信号转换为ISP需要的任何形式，例如电缆或DSL。

* **网桥**: 在链路层连接两个网络的设备，使得它们像单个网络一样工作。有些网桥盲目地转发所有的流量，而有些网桥更聪明。电缆调制解调器就是桥接器的一种，尽管它们通常与路由器和交换机内置在同一个盒子里。

* **刺穿式搭接器**: 在遥远的过去，当你想把电脑连接到一根粗网线上时，你会使用[这些名字很好听的设备](https://en.wikipedia.org/wiki/Vampire tap)之一来完成它。把它放在这里只是为了增加一点趣味性。
  
## 思考题

* 集线器和交换机的区别是什么？

* 路由器的作用是什么？
  
* 为什么只有一条网络连接的路由器没有任何意义？

* 当前你的笔记本电脑连接了哪些设备？你是否使用了一个物理线缆来进行连接？
  
* 这道思考题不需要写任何东西，除非你确实想回答点什么，但想想如果使用的是[300 bps调制解调器](https://www.youtube.com/watch?v=PjwnIm5Y6XE)，生活是什么样子的。我的第一个调制解调器是[VICMODEM](https://www.oldcomputr.com/commodore-vicmodem-1982/),它比现代的线缆连接慢两百万倍。不过这是40年前了，你可以畅想下到2062年，网络速度能快成什么样。